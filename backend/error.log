{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:321:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:318:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:16:30.299Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:321:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:318:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:16:30.946Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:321:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:318:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:21:11.188Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:321:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:318:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:21:11.520Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:326:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:323:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:34:25.953Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:326:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:323:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:34:26.344Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:326:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:323:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:35:48.408Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:326:34\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:323:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:35:48.416Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:306:39\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:303:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:37:49.851Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:306:39\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:303:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:38:09.358Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:306:39\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:303:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:39:18.642Z"}
{"level":"error","message":"Get user profile error: order.date.toLocaleDateString is not a function","service":"user-controller","stack":"TypeError: order.date.toLocaleDateString is not a function\n    at file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:306:39\n    at Array.map (<anonymous>)\n    at getUserProfile (file:///home/imthiyas/Desktop/project-0/ecommerce-app/backend/controllers/userController.js:303:50)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T15:39:20.828Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:36:27.954Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:37:57.600Z"}
{"level":"error","message":"Forgot password error: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-controller","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:185:23)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-09-27T17:43:17.143Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:45:14.081Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:52:07.810Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:52:58.991Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:59:36.377Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-09-27T17:59:38.860Z"}
{"address":"cluster1-shard-00-02.26dfd.mongodb.net:27017","beforeHandshake":false,"cause":{"beforeHandshake":false,"connectionGeneration":12,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get user profile error: Connection pool for cluster1-shard-00-02.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connect ETIMEDOUT 35.200.226.180:27017, connect ENETUNREACH 64:ff9b::23c8:e2b4:27017 - Local (:::0)\"","service":"user-controller","stack":"MongoPoolClearedError: Connection pool for cluster1-shard-00-02.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connect ETIMEDOUT 35.200.226.180:27017, connect ENETUNREACH 64:ff9b::23c8:e2b4:27017 - Local (:::0)\"\n    at ConnectionPool.processWaitQueue (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cmap/connection_pool.js:440:82)\n    at ConnectionPool.clear (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cmap/connection_pool.js:243:14)\n    at updateServers (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/topology.js:512:29)\n    at Topology.serverUpdateHandler (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/topology.js:388:9)\n    at Server.<anonymous> (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/topology.js:495:77)\n    at Server.emit (node:events:518:28)\n    at markServerUnknown (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/server.js:342:12)\n    at Server.handleError (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/server.js:233:17)\n    at /home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cmap/connection_pool.js:386:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T19:14:22.855Z"}
{"address":"cluster1-shard-00-02.26dfd.mongodb.net:27017","beforeHandshake":false,"cause":{"beforeHandshake":false,"connectionGeneration":12,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get user profile error: Connection pool for cluster1-shard-00-02.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connect ETIMEDOUT 35.200.226.180:27017, connect ENETUNREACH 64:ff9b::23c8:e2b4:27017 - Local (:::0)\"","service":"user-controller","stack":"MongoPoolClearedError: Connection pool for cluster1-shard-00-02.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connect ETIMEDOUT 35.200.226.180:27017, connect ENETUNREACH 64:ff9b::23c8:e2b4:27017 - Local (:::0)\"\n    at /home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cmap/connection_pool.js:357:77\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-27T19:14:23.438Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get all users error: getaddrinfo EAI_AGAIN cluster1-shard-00-02.26dfd.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000024"},"maxSetVersion":1,"servers":{"cluster1-shard-00-00.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-00.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1225888,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster1-shard-00-01.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-01.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1225902,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster1-shard-00-02.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-02.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1225873,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-57kco8-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"user-controller","stack":"MongoServerSelectionError: getaddrinfo EAI_AGAIN cluster1-shard-00-02.26dfd.mongodb.net\n    at Topology.selectServer (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)\n    at async tryOperation (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)\n    at async executeOperation (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)\n    at async FindCursor.toArray (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)\n    at async model.Query._find (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongoose/lib/query.js:2381:14)","timestamp":"2025-10-02T15:43:09.268Z"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get all users error: getaddrinfo EAI_AGAIN cluster1-shard-00-02.26dfd.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff0000000000000024"},"maxSetVersion":1,"servers":{"cluster1-shard-00-00.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-00.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1265204,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster1-shard-00-01.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-01.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1265205,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster1-shard-00-02.26dfd.mongodb.net:27017":{"$clusterTime":null,"address":"cluster1-shard-00-02.26dfd.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1265200,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-57kco8-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"user-controller","stack":"MongoServerSelectionError: getaddrinfo EAI_AGAIN cluster1-shard-00-02.26dfd.mongodb.net\n    at Topology.selectServer (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/sdam/topology.js:321:38)\n    at async tryOperation (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/operations/execute_operation.js:145:18)\n    at async executeOperation (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/operations/execute_operation.js:75:16)\n    at async FindCursor._initialize (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)\n    at async FindCursor.cursorInit (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)\n    at async FindCursor.next (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)\n    at async FindCursor.toArray (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)\n    at async model.Query._find (/home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongoose/lib/query.js:2381:14)","timestamp":"2025-10-02T15:43:48.469Z"}
{"address":"cluster1-shard-00-01.26dfd.mongodb.net:27017","beforeHandshake":false,"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Get all users error: Connection pool for cluster1-shard-00-01.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connection <monitor> to 34.93.127.74:27017 closed\"","service":"user-controller","stack":"MongoPoolClearedError: Connection pool for cluster1-shard-00-01.26dfd.mongodb.net:27017 was cleared because another operation failed with: \"connection <monitor> to 34.93.127.74:27017 closed\"\n    at /home/imthiyas/Desktop/project-0/ecommerce-app/backend/node_modules/mongodb/lib/cmap/connection_pool.js:357:77\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-02T15:58:59.248Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-10-02T17:23:03.052Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-10-02T17:23:32.957Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-10-02T17:26:32.351Z"}
{"level":"error","message":"Failed to send OTP email:","service":"user-controller","timestamp":"2025-10-02T17:28:58.325Z"}
